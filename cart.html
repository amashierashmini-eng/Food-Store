<!DOCTYPE html>
<html>
<head>
    <title>FOOD STORE</title>
    <link rel="stylesheet" href="css/cartstyle.css">
</head>
<body>

<h1>FLAVORO</h1>

<nav class="foodstore-nav">
    <div>
        <a href="home.html">HOME</a>
        <a href="srilankafood.html">SRI LANKA FOOD</a>
        <a href="koreanfood.html">KOREAN FOOD</a>
        <a href="japanfood.html">JAPAN FOOD</a>
        <a href="indianfood.html">INDIAN FOOD</a>
        <a href="chinees.html">CHINEES FOOD</a>
        <a href="dessert.html">DESSERT</a>
        <a href="contactus.html">CONTACT US</a>
        <a href="about.html">ABOUT US</a>

        <a href="cart.html" id="cartLink">ORDER NOW <span id="cartCount" class="cart-count">0</span></a>

        <a href="login.html">LOGIN</a>
    </div>
</nav>

<h2>Your Cart</h2>

<table id="cartTable">
    <tr>
        <th>Food Item</th>
        <th>Price</th>
        <th>Remove</th>
    </tr>
</table>

<h2 id="total" style="text-align:center;">Total: Rs.0</h2>

<button id="orderBtn" onclick="orderNow()">ORDER NOW</button>

<div id="popup" class="popup"></div>

<script>


function updateCartCount() {
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    document.getElementById("cartCount").innerText = cart.length;
}


function addToCart(name, price) {
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    cart.push({item: name, price: price});
    localStorage.setItem("cart", JSON.stringify(cart));

    showPopup("‚úî " + name + " added to cart!");
    updateCartCount();
}

function showPopup(message) {
    let popup = document.getElementById("popup");
    popup.innerText = message;
    popup.classList.add("show");

    setTimeout(() => {
        popup.classList.remove("show");
    }, 2000);
}


updateCartCount();

let cart = JSON.parse(localStorage.getItem("cart")) || [];

function loadCart() {
    let table = document.getElementById("cartTable");
    let total = 0;

    cart.forEach((data, index) => {
        table.innerHTML += `
        <tr>
            <td>${data.item}</td>
            <td>Rs.${data.price}</td>
            <td><button onclick="removeItem(${index})">X</button></td>
        </tr>`;
        total += data.price;
    });

    document.getElementById("total").innerText = "Total: Rs." + total;
}

function removeItem(i) {
    cart.splice(i, 1);
    localStorage.setItem("cart", JSON.stringify(cart));
    showPopup("‚úî Item removed from cart", "#ff3b3b");
    setTimeout(() => location.reload(), 1000);
}

function orderNow() {
    if(cart.length === 0){
        showPopup("‚ö† Your cart is empty!", "#ff8533");
        return;
    }
    showPopup("‚úî Order Successful!", "#4BB543");
    localStorage.removeItem("cart");
    setTimeout(() => window.location.href = "home.html", 1500);
}


function showPopup(message, color) {
    let popup = document.getElementById("popup");
    popup.innerText = message;
    popup.style.backgroundColor = color;
    popup.style.display = "block";
    setTimeout(() => {
        popup.style.display = "none";
    }, 2000);
}

loadCart();


</script>

</body>
<footer class="footer">
    <div class="footer-container">

        <div class="footer-section">
            <h3>Flavoro</h3>
            <p>Taste the Best that Surprise you.</p>
        </div>

        <div class="footer-section">
            <h3>Quick Links</h3>
            <ul>
                <li><a href="home.html">Home</a></li>
                <li><a href="srilankafood.html">Sri Lankan Food</a></li>
                <li><a href="aboutus.html">About Us</a></li>
                <li><a href="contactus.html">Contact Us</a></li>
            </ul>
        </div>

        <div class="footer-section">
            <h3>Contact</h3>
            <p>üìû 074-0375225</p>
            <p>üìß flavorfood@gmail.com</p>
            <p>üè¨ Kegalle, Sri Lanka</p>
        </div>

    </div>

    <p class="copyright">¬© 2025 Food Store | All Rights Reserved</p>
</footer>

</html>
